<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumberjack Run</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <h1>Lumberjack Run</h1>
        <audio id="backgroundMusic" loop>
            <source src="background-music.mp3" type="audio/mpeg">
            <source src="background-music.wav" type="audio/wav">
            Your browser does not support the audio element.
        </audio>
        <audio id="jumpSound" preload="auto">
            <source src="jump.wav" type="audio/wav">
            Your browser does not support the audio element.
        </audio>
        <canvas id="gameCanvas" width="800" height="400"></canvas>
        <div class="controls">
            <p>Use arrow keys to move, spacebar to jump</p>
            <p>Level: <span id="level">1</span> | Score: <span id="score">0</span> | Time: <span id="timer">0:00.00</span></p>
            <button id="musicToggle">üéµ Music: ON</button>
            <button id="restartBtn" style="display: none;">Continue from Checkpoint</button>
            <button id="fullResetBtn" style="display: none;">Full Reset</button>
            <button id="leaderboardBtn">üèÜ Leaderboard</button>
        </div>
        <div id="gameStatus"></div>

        <!-- Leaderboard Modal -->
        <div id="leaderboardModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üèÜ Level 10 Speed Records</h2>
                    <span class="close" id="closeLeaderboard">&times;</span>
                </div>
                <div class="modal-body">
                    <div id="leaderboardList">
                        <p class="no-records">No records yet! Be the first to reach Level 10!</p>
                    </div>
                    <button id="clearLeaderboard" class="danger-btn">Clear All Records</button>
                </div>
            </div>
        </div>

        <!-- Name Input Modal (shown when player reaches level 10) -->
        <div id="nameInputModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üéâ Congratulations!</h2>
                </div>
                <div class="modal-body">
                    <p>You reached Level 10!</p>
                    <p>Your time: <span id="finalTimeDisplay">0:00.00</span></p>
                    <p>Enter your name for the leaderboard:</p>
                    <input type="text" id="playerNameInput" maxlength="20" placeholder="Enter your name...">
                    <div class="modal-buttons">
                        <button id="submitScore">Submit Score</button>
                        <button id="skipScore">Skip</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="game.js"></script>
</body>
</html>